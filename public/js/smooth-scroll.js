(function(a,b){if(typeof define==="function"&&define.amd){define([],b(a))}else{if(typeof exports==="object"){module.exports=b(a)}else{a.smoothScroll=b(a)}}})(typeof global!=="undefined"?global:this.window||this.global,function(k){var i={};var r="querySelector" in document&&"addEventListener" in k;var t,b,u,o,m;var f={selector:"[data-scroll]",selectorHeader:"[data-scroll-header]",speed:500,easing:"easeInOutCubic",offset:0,updateURL:true,callback:function(){}};var s=function(){var v={};var w=false;var x=0;var y=arguments.length;if(Object.prototype.toString.call(arguments[0])==="[object Boolean]"){w=arguments[0];x++}var A=function(B){for(var C in B){if(Object.prototype.hasOwnProperty.call(B,C)){if(w&&Object.prototype.toString.call(B[C])==="[object Object]"){v[C]=s(true,v[C],B[C])}else{v[C]=B[C]}}}};for(;x<y;x++){var z=arguments[x];A(z)}return v};var g=function(v){return Math.max(v.scrollHeight,v.offsetHeight,v.clientHeight)};var n=function(z,v){var y=v.charAt(0);var w="classList" in document.documentElement;var x,A;if(y==="["){v=v.substr(1,v.length-2);x=v.split("=");if(x.length>1){A=true;x[1]=x[1].replace(/"/g,"").replace(/'/g,"")}}for(;z&&z!==document&&z.nodeType===1;z=z.parentNode){if(y==="."){if(w){if(z.classList.contains(v.substr(1))){return z}}else{if(new RegExp("(^|\\s)"+v.substr(1)+"(\\s|$)").test(z.className)){return z}}}if(y==="#"){if(z.id===v.substr(1)){return z}}if(y==="["){if(z.hasAttribute(x[0])){if(A){if(z.getAttribute(x[0])===x[1]){return z}}else{return z}}}if(z.tagName.toLowerCase()===v){return z}}return null};i.escapeCharacters=function(B){if(B.charAt(0)==="#"){B=B.substr(1)}var y=String(B);var A=y.length;var x=-1;var z;var v="";var w=y.charCodeAt(0);while(++x<A){z=y.charCodeAt(x);if(z===0){throw new InvalidCharacterError("Invalid character: the input contains U+0000.")}if((z>=1&&z<=31)||z==127||(x===0&&z>=48&&z<=57)||(x===1&&z>=48&&z<=57&&w===45)){v+="\\"+z.toString(16)+" ";continue}if(z>=128||z===45||z===95||z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122){v+=y.charAt(x);continue}v+="\\"+y.charAt(x)}return"#"+v};var e=function(v,x){var w;if(v==="easeInQuad"){w=x*x}if(v==="easeOutQuad"){w=x*(2-x)}if(v==="easeInOutQuad"){w=x<0.5?2*x*x:-1+(4-2*x)*x}if(v==="easeInCubic"){w=x*x*x}if(v==="easeOutCubic"){w=(--x)*x*x+1}if(v==="easeInOutCubic"){w=x<0.5?4*x*x*x:(x-1)*(2*x-2)*(2*x-2)+1}if(v==="easeInQuart"){w=x*x*x*x}if(v==="easeOutQuart"){w=1-(--x)*x*x*x}if(v==="easeInOutQuart"){w=x<0.5?8*x*x*x*x:1-8*(--x)*x*x*x}if(v==="easeInQuint"){w=x*x*x*x*x}if(v==="easeOutQuint"){w=1+(--x)*x*x*x*x}if(v==="easeInOutQuint"){w=x<0.5?16*x*x*x*x*x:1+16*(--x)*x*x*x*x}return w||x};var q=function(x,w,y){var v=0;if(x.offsetParent){do{v+=x.offsetTop;x=x.offsetParent}while(x)}v=Math.max(v-w-y,0);return Math.min(v,a()-l())};var l=function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)};var a=function(){return Math.max(k.document.body.scrollHeight,k.document.documentElement.scrollHeight,k.document.body.offsetHeight,k.document.documentElement.offsetHeight,k.document.body.clientHeight,k.document.documentElement.clientHeight)};var h=function(v){return !v||!(typeof JSON==="object"&&typeof JSON.parse==="function")?{}:JSON.parse(v)};var c=function(w,v){if(k.history.pushState&&(v||v==="true")&&k.location.protocol!=="file:"){k.history.pushState(null,null,[k.location.protocol,"//",k.location.host,k.location.pathname,k.location.search,w].join(""))}};var j=function(v){return v===null?0:(g(v)+v.offsetTop)};i.animateScroll=function(A,C,L){var H=h(C?C.getAttribute("data-options"):null);var v=s(t||f,L||{},H);var z=Object.prototype.toString.call(A)==="[object Number]"?true:false;var I=z?null:(A==="#"?k.document.documentElement:k.document.querySelector(A));if(!z&&!I){return}var G=k.pageYOffset;if(!u){u=k.document.querySelector(v.selectorHeader)}if(!o){o=j(u)}var F=z?A:q(I,o,parseInt(v.offset,10));var w=F-G;var K=a();var E=0;var J,B;if(!z){c(A,v.updateURL)}var D=function(M,P,N){var O=k.pageYOffset;if(M==P||O==P||((k.innerHeight+O)>=K)){clearInterval(N);if(!z){I.focus()}v.callback(A,C)}};var y=function(){E+=16;J=(E/parseInt(v.speed,10));J=(J>1)?1:J;B=G+(w*e(v.easing,J));k.scrollTo(0,Math.floor(B));D(B,F,m)};var x=function(){clearInterval(m);m=setInterval(y,16)};if(k.pageYOffset===0){k.scrollTo(0,0)}x()};var p=function(w){if(w.button!==0||w.metaKey||w.ctrlKey){return}var v=n(w.target,t.selector);if(v&&v.tagName.toLowerCase()==="a"){w.preventDefault();var x=i.escapeCharacters(v.hash);i.animateScroll(x,v,t)}};var d=function(v){if(!b){b=setTimeout(function(){b=null;o=j(u)},66)}};i.destroy=function(){if(!t){return}k.document.removeEventListener("click",p,false);k.removeEventListener("resize",d,false);t=null;b=null;u=null;o=null;m=null};i.init=function(v){if(!r){return}i.destroy();t=s(f,v||{});u=k.document.querySelector(t.selectorHeader);o=j(u);k.document.addEventListener("click",p,false);if(u){k.addEventListener("resize",d,false)}};return i});
